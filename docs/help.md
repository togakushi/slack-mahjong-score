# ヘルプ

チャンネル内キーワードで呼び出せる機能のヘルプ

---

## 【成績】

### サマリモード

* 全体サマリ
  * オプションにプレイヤー名がない場合に出力
* 差分サマリ
  * オプションに2名以上のプレイヤーを指定した場合、指定プレイヤーのみに絞って出力

#### 追加オプション

* <比較>
  * 成績上位のプレイヤーとのポイント差分を表示

### 個人成績モード

オプションにプレイヤーが1名だけ指定されたときに出力

#### 追加オプション

* <戦績>
  * 半荘単位の素点と順位、獲得ポイントを表示（指定プレイヤーのみ）
* <詳細>
  * 戦績に追加指定で4人分を表示
* <対戦>
  * 対局者との勝敗(着順)を表示

### 直接対戦モード

対象プレイヤーと対戦相手（複数指定可）の指定に「対戦」オプションが追加されたときに出力

#### 追加オプション

* <全員>
  * 対戦相手を直接指定せずに結果に含まれるすべてのプレイヤーを対戦相手に指定する
* <戦績>
  * 半荘単位の素点と順位、獲得ポイントを表示（対象と相手のみ）
* <詳細>
  * 戦績に追加指定で4人分を表示

---

## 【グラフ】

累積ポイント推移グラフを出す

* 全体グラフ
  * オプションにプレイヤー名がない場合に全員分を出力
* 差分グラフ
  * オプションに2名以上のプレイヤーを指定した場合、指定プレイヤーのみに絞って出力
* 個人グラフ
  * オプションに1名だけプレイヤーを指定した場合、指定プレイヤーのみ個人成績グラフを出力
    半荘ごとの獲得ポイント
    累積ポイント推移
    順位分布
    平均順位推移

---

## 【ランキング】

ランキングを出す

### 追加オプション

* <トップNNN>
  * ランキング出力を上位NNNまでに変更する
  * 未指定時は「トップ3」

---

## 共通オプション

### 検索範囲指定

2つ以上の日付が指定された場合、最小値と最大値の期間を返す

[例] 「今月 先月」と指定すれば、先月月初から今月末までの2ヶ月分

### 検索データ切り替え

* <アーカイブ>
  * 未指定時はslackの履歴から検索
  * 指定時はデータベースから検索
    * あらかじめインポートしておく必要がある
  * 【注意】slackとデータベースを横断して検索はしない
    * 重複データを排除する処理を作っていない

### ゲストプレイヤーの扱い

メンバーリストに存在しないプレイヤーの記録はゲストとして取り扱われる。

[ヒント]同一人物は同じ名前で登録しておけば集計データを見るときにわかりやすくなるよ。

#### ゲストの成績の集計

* <ゲストあり>
  * ゲストプレイヤーは「ゲスト１」という名前のプレイヤーとして集計される
  * ゲストが2名以上いるゲームは集計不能になるので、集計結果から除外される（ゲーム自体がなかったことになる）
    * ゲストの成績が合計されてしまう（同じ名前のプレイヤーが複数存在しているので）
    * 「2ゲスト戦」と呼んでいる
* <ゲストなし>
  * 集計結果にゲストの記録を一切含めない
  * 2ゲスト戦の結果も集計対象になる
  * 特記に「2ゲスト戦の結果を含む」と表示される
* <ゲスト無効>
  * 未登録プレイヤーをゲストに置換しない
    * プレイヤー名が被らなくなるので、2ゲスト戦自体が発生しない
    * 結果的にすべてのゲームが集計対象になる
  * 特記に「ゲスト置換なし」と表示される

---

## その他

### 入力ルール

* 起家から順に入力
  * 同点の場合の順位付けに必要
  * 座席データ収集
* プレイヤー名のあとに素点
  * 1/100に丸める
    * 1000点は10
* トビが発生した場合の記述
  * 飛んだ人：最終素点-失点
  * 飛ばした人：最終素点+加点
  * 記号は半角
    * ちゃんと入力してればトビ・トバシの統計が出せるよ
