# 設定／カスタマイズ

INIファイル内の設定を変更することで、動作を変更可能。

## 麻雀ルール調整

### mahjongセクション

| キーワード    | 内容               | 値                              | 備考                                           |
| ------------- | ------------------ | ------------------------------- | ---------------------------------------------- |
| rule_version  | ルール識別子       | 文字列                          | 別ルールで打った時に区別できるようにする識別子 |
| point         | 持ち点             | 数値(100点単位)                 | 配給原点                                       |
| return        | 返し点             | 数値(100点単位)                 | オカ                                           |
| rank_point    | 順位点             | カンマ区切り数値4つ(1000点単位) | 1位から順に4つ並べる                           |
| ignore_flying | 箱下のカウント表示 | 真偽値                          |                                                |

## 検索オプション

### searchセクション

| キーワード       | 内容                 | 値                   | 備考                                                   |
| ---------------- | -------------------- | -------------------- | ------------------------------------------------------ |
| keyword          | 成績記録用キーワード | 文字列               |                                                        |
| channel          | 検索チャンネル       | 文字列(チャンネル名) |                                                        |
| retention_period | slackのログ保存期間  | 数値(0で無制限)      | 検索開始日が指定された日数を超えている場合に注記を表示 |

## スラッシュコマンドオプション

### slashセクション

| キーワード  | 内容                 | 値     | 備考                     |
| ----------- | -------------------- | ------ | ------------------------ |
| commandname | スラッシュコマンド名 | 文字列 | 先頭のスラッシュも含める |

### aliasセクション

| キーワード | 内容                   | 値                   | 備考                       |
| ---------- | ---------------------- | -------------------- | -------------------------- |
| results    | 成績表示               | 文字列(カンマ区切り) |                            |
| graph      | グラフ表示             | 文字列(カンマ区切り) |                            |
| record     | 記録用データ表示       | 文字列(カンマ区切り) |                            |
| member     | メンバーリスト表示     |                      |                            |
| add        | メンバー追加           |                      | メンバー新規登録、別名登録 |
| del        | メンバー削除           |                      | メンバー削除、別名削除     |
| save       | メンバーリスト保存     |                      |                            |
| load       | メンバーリスト読み込み |                      |                            |

## 成績管理

全セクション共通

| キーワード           | 内容                                              | 値               | 備考                       |
| -------------------- | ------------------------------------------------- | ---------------- | -------------------------- |
| commandword          | チャンネル内から機能を呼び出すキーワード          | 文字列(正規表現) |                            |
| aggregation_range    | 検索範囲未指定時のデフォルト値                    | 文字列           |                            |
| playername_replace   | 別名のまま表示する                                | 真偽値           | 別名は登録名に正規化される |
| unregistered_replace | 未登録プレイヤーを `guest_name` に置き換えて表示  | 真偽値           |                            |
| guest_skip           | ゲスト無効(未登録プレイヤーの結果を無視する)      | 真偽値           | 全体成績用                 |
| guest_skip2          | ゲスト無効(未登録プレイヤーの結果を無視する       | 真偽値           | 個人成績用                 |
| score_comparisons    | 比較モードで表示する                              | 真偽値           |                            |
| archive              | 成績検索をdatabaseに切り替え                      | 真偽値           |                            |
| game_results         | 戦績(半荘単位の素点と順位)を表示                  | 真偽値           | 個人成績専用               |
| versus_matrix        | 対戦マトリックス表示                              | 真偽値           | 個人成績専用               |

## メンバー管理

### memberセクション

| キーワード         | 内容                     | 値           | 備考                                                 |
| ------------------ | ------------------------ | ------------ | ---------------------------------------------------- |
| filename           | メンバー管理用ファイル名 | ファイルパス | コマンドラインで指定されなかった場合に探すファイル名 |
| registration_limit | 登録メンバー上限         | 数値         |                                                      |
| character_limit    | 登録名文字数上限         | 数値         |                                                      |
| alias_limit        | 別名登録上限             | 数値         |                                                      |
| guest_name         | 未登録プレイヤーを置換   | 文字列       |                                                      |

## DATABASE関連オプション

### databaseセクション

| キーワード | 内容                     | 値           | 備考                |
| ---------- | ------------------------ | ------------ | ------------------- |
| filename   | 成績を記録するファイル名 | ファイルパス | SQLite 3.x database |

## 装飾オプション

### degreeセクション

プレイしたゲーム数に対して表示される称号

| キーワード | 内容           | 値                   | 備考 |
| ---------- | -------------- | -------------------- | ---- |
| display    | 表示するか指定 | 真偽値               |      |
| badge      |                | 文字列(カンマ区切り) |      |
| counter    |                | 数値(カンマ区切り)   |      |

### statusセクション

勝率に対して付く調子バッジ

| キーワード | 内容           | 値                   | 備考                                                        |
| ---------- | -------------- | -------------------- | ----------------------------------------------------------- |
| display    | 表示するか指定 | 真偽値               |                                                             |
| badge      |                | 文字列(カンマ区切り) | 休み、絶不調、不調、普通、好調、絶好調の順に6段階すべて指定 |
| step       |                | 数値                 | 普通を基準(勝率50%)として、上下する刻み幅                   |

## メッセージカスタマイズオプション

### invalid_scoreセクション

ゲーム結果のポスト時に入力された素点合計と配給原点合計に差分があるときに指摘するメッセージ
キーワードはセクション内でユニークになるように定義すること（ランダムに選択される）

| キーワード | 内容       | 値     | 備考                                                              |
| ---------- | ---------- | ------ | ----------------------------------------------------------------- |
| 任意       | メッセージ | 文字列 | メッセージ内の *{rpoint_diff}* は点数差分の絶対値に置き換えられる |
